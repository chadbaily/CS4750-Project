{% extends 'base.html' %} {% block title %}Media{% endblock %} {% block content%}

<h1>Media:</h1>

<p>
  Here below you can find some of our media!
</p>

<div class="row">
  <input type="text" placeholder="Search.." name="search" id="search" onkeyup="filterMedia()" />
  <a class="btn btn-primary btn-lg btn-block" href="/media/create"
    ><i class="fa fa-plus"></i> Add Media</a
  >
  {% for media in medias %}
  <div class="card card-space" id="media_cards">
    <div class="card-body">
      <a href="/media/info/{{ media.pk }}/">
        <h5 class="card-title">{{ media.media_name }}</h5>
      </a>
      <h6 class="card-subtitle mb-2 text-muted">Media</h6>
      <!-- <p class="card-text">Birthdate: {{ media.birthdate }}</p> -->
      <p class="card-text">Type: {{ media.mtype }}</p>
      <p class="card-text">Description: {{ media.description }}</p>
      <!-- <a href="food/{{ food.pk }}/" class="btn btn-primary">Learn More</a> -->
      <a href="/media/edit/{{ media.pk }}/" class="card-link">Edit</a>
    </div>
  </div>
  {% endfor %}
</div>
<a href="/media/export" class="btn btn-primary">Export</a>

<script>
    function filterMedia() {
      // Declare variables 
      var input, filter, table, tr, td, i, txtValue;
      input = document.getElementById("search");
      filter = input.value.toUpperCase();
      card = document.getElementsByClassName("card card-space");
    
      // Loop through all table rows, and hide those who don't match the search query
      for (i = 0; i < card.length; i++) {
        td = card[i].getElementsByTagName("h5")[0];
        if (td) {
          txtValue = td.textContent || td.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
            card[i].style.display = "";
          } else {
            card[i].style.display = "none";
          }
        } 
      }
    }
    </script>


{% endblock %}
